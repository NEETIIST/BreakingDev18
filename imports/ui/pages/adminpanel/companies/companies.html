<template name="ap_companies">
	<div class="row justify-content-center align-items-start m-0">
    	<div class="col-10 p-0">
    		<div class="spacer-4"></div>
    		<div class="row justify-content-center align-items-center m-0">
    			<div class="col-9 text-left">
    				<p class="f-white fs-6 fw-6 mb-0 flh-2">{{_ "ap-companies"}}</p>
    			</div>
    			<div class="col-3 text-right">
    				<a href="/admin/companies/add">
    					<button class="form-submit cp mt-2 mb-0">
							{{_ "ap-companies-add"}}
						</button>
    				</a>
    			</div>
    		</div>
    		
    		<hr class="red f-red" style="height:2px;border:none;">
    		{{#if Template.subscriptionsReady}}
    			{{#each company}}
    				<div class="row justify-content-start align-items-center team-list mx-0 my-3 py-1">
		    			<div class="col-4 col-md-2 text-left">
		    				<img src="{{getImage logo}}" class="img-fluid py-2"/>
		    			</div>
		    			<div class="col-8 col-md-4 text-center">
		    				<p class="f-white fs-2 fw-4 mb-0">({{short}}) <span class="fw-6">{{name}}</span></p>
		    			</div>
		    			<div class="col-4 col-md-3 text-center">
		    				{{#each codes}}
		    					<p class="fs-1 fw-4 f-white mb-0">
		    						{{this}}
		    						<i class="fas fa-minus f-red cp mx-1" title="{{_ 'ap-companies-remove-code'}}" id="ap-companies-remove-code"></i>
		    					</p>

		    				{{/each}}
		    			</div>
		    			<div class="col-4 col-md-3 text-right">
		    				<i class="fas fa-key hvr-white-to-red cp mx-1" title="{{_ 'ap-companies-generate-code'}}" id="ap-companies-generate-code"></i>
		    				<a href="/admin/companies/edit/{{short}}">
		    					<i class="fas fa-pencil-alt hvr-white-to-red cp mx-1" title="{{_ 'ap-companies-edit'}}" id="ap-companies-edit"></i>
		    				</a>
		    				<a href="/company/{{short}}">
		    					<i class="fas fa-search hvr-white-to-red cp mx-1" title="{{_ 'ap-companies-seemore'}}"></i>
		    				</a>
                  <i class="fas fa-times f-red cp mx-1" title="{{_ 'ap-companies-delete'}}" id="ap-companies-delete"></i>
		    				<!--
		    				{{#if pending}}
		    					<i class="fas fa-check hvr-white-to-red cp mx-1" id="validate-team" title="{{_ 'ap-teams-validate'}}"></i>
		    				{{/if}}
		    				{{#if validated}}
		    					<i class="fas fa-times hvr-white-to-red cp mx-1" id="unvalidate-team" title="{{_ 'ap-teams-unvalidate'}}"></i>
		    				{{/if}}
		    				-->
		    			</div>
		    		</div>
    			{{else}}
    			{{/each}}
    		{{/if}}
    	</div>
    </div>
</template>

<template name="ap_companies_add">
	<div class="row justify-content-center align-items-start m-0 f-white">
    	<div class="col-10 p-0">
    		<div class="spacer-4"></div>
    		<div class="row justify-content-center align-items-center m-0">
    			<div class="col-9 p-0 text-left">
    				<p class="f-white fs-6 fw-6 mb-0 flh-2">{{_ "ap-companies-add"}}</p>
    			</div>
    			<div class="col-3 p-0 text-right">
    				<a href="/admin/companies">
    					<button class="form-submit cp mt-2 mb-0">
							{{_ "ap-companies-goback"}}
						</button>
    				</a>
    			</div>
    		</div>
    		
    		<hr class="red f-red" style="height:2px;border:none;">
    		{{#if Template.subscriptionsReady}}
    			{{#autoForm collection=Companies id="addCompany" type="method" template="nothing" meteormethod="createCompany" validation="browser"}}
					<fieldset>
						{{> afQuickField name="name" class="form-input" autocomplete="off"}}
						{{> afQuickField name="short" class="form-input" autocomplete="off"}}
            {{> afQuickField name="logo"}}
					</fieldset>
					<button type="submit" class="form-submit cp my-3" style="float:right">{{_ "ap-companies-add-submit"}}</button>
				{{/autoForm}}
    		{{/if}}
    	</div>
    </div>
</template>



<template name="ap_companies_edit">
	<div class="row justify-content-center align-items-start m-0 f-white">
    	<div class="col-10 p-0">
    		<div class="spacer-4"></div>
    		<div class="row justify-content-center align-items-center m-0">
    			<div class="col-9 p-0 text-left">
    				<p class="f-white fs-6 fw-6 mb-0 flh-2">{{_ "ap-companies-edit"}}</p>
    			</div>
    			<div class="col-3 p-0 text-right">
    				<a href="/admin/companies">
    					<button class="form-submit cp mt-2 mb-0">
							{{_ "ap-companies-goback"}}
						</button>
    				</a>
    			</div>
    		</div>
    		
    		<hr class="red f-red" style="height:2px;border:none;">
    		{{#if Template.subscriptionsReady}}
    			{{#autoForm collection=Companies doc=company id="editCompany" type="method-update" template="nothing" meteormethod="editCompanyAdmin" validation="browser"}}
					<fieldset>
						{{> afQuickField name="name" class="form-input" autocomplete="off"}}
						{{> afQuickField name="short" class="form-input" autocomplete="off"}}
						{{> afQuickField name="work" class="form-input" autocomplete="off"}}
						{{> afQuickField name="search" class="form-input" autocomplete="off"}}
						{{> afQuickField name="category" class="form-input" autocomplete="off"}}
						{{> afQuickField name="website" class="form-input" autocomplete="off"}}
						{{> afQuickField name="email" class="form-input" autocomplete="off"}}
                        {{> afQuickField name="logo" class="form-input" autocomplete="off"}}
					</fieldset>
					<button type="submit" class="form-submit cp my-3" style="float:right">{{_ "ap-companies-edit-submit"}}</button>
				{{/autoForm}}
    		{{/if}}
    	</div>
    </div>
</template>